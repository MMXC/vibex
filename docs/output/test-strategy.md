# VibeX Frontend 测试策略与测试用例规划

## 1. 测试策略

### 1.1 测试目标
确保 MVP 阶段核心功能的质量，验证前端原型与交互契约的正确性。

### 1.2 测试范围

| 优先级 | 页面/功能 | 测试类型 |
|--------|-----------|----------|
| P0 | AI对话页 (/chat) | E2E + 集成 |
| P0 | 流程图编辑页 (/flow) | E2E + 集成 |
| P0 | 用户中心 (/dashboard) | E2E + 单元 |
| P1 | 登录注册页 (/auth) | E2E |
| P1 | 页面列表页 (/pages) | E2E |
| P1 | 原型预览页 (/preview) | E2E |
| P2 | 其他页面 | 冒烟测试 |

### 1.3 测试环境

- **开发环境**: `http://localhost:3000`
- **浏览器**: Chrome, Firefox, Safari (最新版本)
- **测试框架**: Jest + Playwright
- **Node版本**: v22.x

---

## 2. 测试用例规划

### 2.1 AI对话页 (/chat)

| 用例ID | 场景 | 预期结果 | 优先级 |
|--------|------|----------|--------|
| CHAT-001 | 页面加载 | 聊天区域正确渲染，显示空状态或历史消息 | P0 |
| CHAT-002 | 发送用户消息 | 消息出现在对话流中，状态显示"发送中" | P0 |
| CHAT-003 | AI回复渲染 | AI回复以流式/完整形式正确展示 | P0 |
| CHAT-004 | Agent切换 | 切换后对话上下文正确更新 | P0 |
| CHAT-005 | Agent列表展示 | 列表显示所有可用Agent | P1 |
| CHAT-006 | 对话历史滚动 | 滚动加载历史消息无卡顿 | P2 |

### 2.2 流程图编辑页 (/flow)

| 用例ID | 场景 | 预期结果 | 优先级 |
|--------|------|----------|--------|
| FLOW-001 | 页面加载 | 画布、节点库、属性面板正确渲染 | P0 |
| FLOW-002 | 拖拽节点到画布 | 节点出现在画布指定位置 | P0 |
| FLOW-003 | 节点连线 | 两节点间连线成功，线条跟随节点移动 | P0 |
| FLOW-004 | 选中节点 | 节点高亮，属性面板显示节点属性 | P0 |
| FLOW-005 | 编辑节点属性 | 属性修改后节点更新 | P0 |
| FLOW-006 | 删除节点/连线 | 选中后按Delete键移除 | P1 |
| FLOW-007 | 节点库分类展示 | 分类切换，节点列表更新 | P2 |

### 2.3 用户中心 (/dashboard)

| 用例ID | 场景 | 预期结果 | 优先级 |
|--------|------|----------|--------|
| DASH-001 | 页面加载 | 项目列表区域正确渲染 | P0 |
| DASH-002 | 创建新项目 | 填写表单后项目创建成功，列表更新 | P0 |
| DASH-003 | 项目卡片展示 | 卡片显示项目名称、描述、更新时间 | P0 |
| DASH-004 | 点击项目进入 | 跳转至对应项目页面 | P0 |
| DASH-005 | 项目搜索/筛选 | 输入关键词后列表正确过滤 | P1 |

### 2.4 登录注册页 (/auth)

| 用例ID | 场景 | 预期结果 | 优先级 |
|--------|------|----------|--------|
| AUTH-001 | 登录表单验证 | 输入无效邮箱/密码时显示错误提示 | P1 |
| AUTH-002 | 登录成功 | 跳转至dashboard，显示用户信息 | P1 |
| AUTH-003 | 注册流程 | 填写信息后注册成功 | P1 |
| AUTH-004 | 登录注册切换 | 点击切换按钮，表单切换 | P2 |

### 2.5 页面列表页 (/pages)

| 用例ID | 场景 | 预期结果 | 优先级 |
|--------|------|----------|--------|
| PAGES-001 | 列表展示 | 显示当前项目所有页面 | P1 |
| PAGES-002 | 新建页面 | 创建新页面，列表更新 | P1 |
| PAGES-003 | 页面排序 | 拖拽排序后顺序保持 | P2 |

### 2.6 原型预览页 (/preview)

| 用例ID | 场景 | 预期结果 | 优先级 |
|--------|------|----------|--------|
| PREVIEW-001 | 设备切换 | 切换设备后布局正确响应 | P1 |
| PREVIEW-002 | 页面渲染 | 页面内容正确显示 | P1 |

---

## 3. 验收标准

### 3.1 MVP 发布标准

- [ ] P0 用例全部通过
- [ ] P1 用例通过率 ≥ 90%
- [ ] 无阻塞性 bug
- [ ] 页面加载时间 < 3s

### 3.2 回归测试

每次代码变更后执行：
1. 全量 P0 用例回归
2. 核心路径冒烟测试

---

## 4. 风险与缓解

| 风险 | 缓解措施 |
|------|----------|
| 后端API未就绪 | 使用 Mock 数据进行前端测试 |
| 浏览器兼容性 | 优先支持 Chrome，渐进支持其他浏览器 |
| 流程图复杂交互 | 重点覆盖核心拖拽/连线场景 |

---

*产出时间: 2026-02-25*  
*测试工程师: Tester Agent*
